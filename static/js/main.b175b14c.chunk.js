(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(35).concat([function(e,t,c){},function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(26),a=c(5),n=c(4),i=(c(35),c(3)),r=c(1),o=c.n(r),l=c(23),j=c(7),d=c.n(j),u=c(9),b=function(e,t){return d()(e,Object(u.a)({},"".concat(e,"--active"),t))},m=(c(36),c(0)),h=function(e){var t=e.handleClick;return Object(m.jsx)("nav",{className:"navigation",children:Object(m.jsxs)("ul",{className:"navigation__list",children:[Object(m.jsx)("li",{className:"navigation__item",children:Object(m.jsx)(a.c,{to:"/",className:function(e){var t=e.isActive;return b("navigation__link",t)},onClick:t,children:"Home"})}),Object(m.jsx)("li",{className:"navigation__item",children:Object(m.jsx)(a.c,{to:"/phones",className:function(e){var t=e.isActive;return b("navigation__link",t)},onClick:t,children:"Phones"})}),Object(m.jsx)("li",{className:"navigation__item",children:Object(m.jsx)(a.c,{to:"/tablets",className:function(e){var t=e.isActive;return b("navigation__link",t)},onClick:t,children:"Tablets"})}),Object(m.jsx)("li",{className:"navigation__item",children:Object(m.jsx)(a.c,{to:"/accessories",className:function(e){var t=e.isActive;return b("navigation__link",t)},onClick:t,children:"Accessories"})})]})})},O=(c(39),c(27)),_=c.n(O),p=(c(40),"https://AllaSerhiienko.github.io/react_phone-catalog/"),x=["phones","tablets","accessories"],g="cart",f="favorites",v={Newest:"age",Alphabetically:"name",Cheapest:"price"},N={4:"4",8:"8",16:"16",All:"all"},y=function(e){var t=e.place,c=Object(l.useMediaQuery)({minWidth:1024}),s=Object(r.useState)(!1),n=Object(i.a)(s,2),o=n[0],j=n[1],d=Object(a.d)(),u=Object(i.a)(d,2),b=u[0],h=u[1],O=b.get("query")||"",p=Object(r.useState)(""),x=Object(i.a)(p,2),g=x[0],f=x[1];Object(r.useEffect)((function(){f(O)}),[b]),Object(r.useEffect)((function(){j(c)}),[c]);var v=function(e){var t=new URLSearchParams(b),c=e.trim();t.get("perPage")&&t.set("page","1"),c?t.set("query",c):t.delete("query"),h(t)},N=Object(r.useCallback)(_()((function(e){v(e)}),1e3),[b]);return Object(m.jsx)("div",{className:"search",children:Object(m.jsx)("div",{className:"search__content",children:o?Object(m.jsxs)("div",{className:"search__bar",children:[Object(m.jsx)("input",{type:"text",className:"search__input",value:g,placeholder:"Search in ".concat(t,"..."),onChange:function(e){f(e.target.value),N(e.target.value)}}),g||!c?Object(m.jsx)("button",{type:"button",className:"search__button search__button--close",onClick:function(){f(""),v(""),c||j(!1)},children:Object(m.jsx)("div",{className:"icon icon--cross"})}):Object(m.jsx)("button",{type:"button",className:"search__button",onClick:function(){return j(!0)},children:Object(m.jsx)("div",{className:"icon icon--search"})})]}):Object(m.jsx)("button",{type:"button",className:"search__button",onClick:function(){return j(!0)},children:Object(m.jsx)("div",{className:"icon icon--search"})})})})},C=(c(41),function(e){var t=e.action,c=e.handleClick,s=e.amount;return Object(m.jsx)(a.c,{to:"/".concat(t),className:function(e){var t=e.isActive;return b("action-link",t)},onClick:c,children:Object(m.jsx)("div",{className:"action-link__content",children:Object(m.jsx)("div",{className:"icon icon--".concat(t),children:!!s&&Object(m.jsx)("div",{className:"action-link__counter",children:s})})})})});C.defaultProps={handleClick:function(){}};var w=c(8);function k(e,t){var c=Object(r.useState)((function(){var c=localStorage.getItem(e);if(null===c)return t;try{return JSON.parse(c)}catch(s){return localStorage.removeItem(e),t}})),s=Object(i.a)(c,2),a=s[0],n=s[1];return[a,function(t){localStorage.setItem(e,JSON.stringify(t)),n(t)}]}var S={favorites:[],setFavorites:function(){},addToFavorites:function(){}},P=o.a.createContext(S),T=function(e){var t=e.children,c=k("favorites",[]),s=Object(i.a)(c,2),a=s[0],n=s[1],r={favorites:a,setFavorites:n,addToFavorites:function(e){a.some((function(t){return t.id===e.id}))?n(a.filter((function(t){return t.id!==e.id}))):n([].concat(Object(w.a)(a),[e]))}};return Object(m.jsx)(P.Provider,{value:r,children:t})},L={cart:[],setCart:function(){},addToCart:function(){},deleteProduct:function(){},deleteProductCopy:function(){}},A=o.a.createContext(L),E=function(e){var t=e.children,c=k("cart",[]),s=Object(i.a)(c,2),a=s[0],n=s[1],r={cart:a,setCart:n,addToCart:function(e){var t=[].concat(Object(w.a)(a),[e]);n(t)},deleteProduct:function(e){var t=Object(w.a)(a.filter((function(t){return t.id!==e})));n(t)},deleteProductCopy:function(e){var t=a.findIndex((function(t){return t.id===e})),c=Object(w.a)(a);c.splice(t,1),n(c)}};return Object(m.jsx)(A.Provider,{value:r,children:t})},q=function(){var e=Object(n.o)().pathname,t=Object(r.useContext)(P).favorites,c=Object(r.useContext)(A).cart,s=Object(r.useState)(!1),o=Object(i.a)(s,2),j=o[0],u=o[1],b=!Object(l.useMediaQuery)({minWidth:640}),O=e.slice(1),_=x.includes(O)||"favorites"===O,v=Object(r.useRef)(null),N=function(){u(!1),document.body.classList.remove("app--with-menu")};Object(r.useEffect)((function(){var e=v.current;e&&(j?e.classList.add("header__menu--visible"):e.classList.remove("header__menu--visible"))}),[j]);var w=Object(r.useCallback)((function(){u((function(e){return!e})),j?document.body.classList.remove("app--with-menu"):document.body.classList.add("app--with-menu")}),[j]);return Object(m.jsx)("header",{className:"header",children:Object(m.jsxs)("div",{className:"header__content",children:[Object(m.jsxs)("div",{className:"header__top",children:[Object(m.jsx)(a.b,{to:"/home",className:"header__logo",onClick:j?N:function(){},children:Object(m.jsx)("img",{src:"".concat(p,"/img/icons/logo.svg"),alt:"LOGO",className:"header__logo-image"})}),!b&&Object(m.jsx)(h,{}),Object(m.jsxs)("div",{className:"header__actions",children:[!j&&_&&Object(m.jsx)(y,{place:O}),!b&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(C,{action:f,amount:t.length}),Object(m.jsx)(C,{action:g,amount:c.length})]}),Object(m.jsx)("button",{type:"button",className:"header__menu-button",onClick:w,children:Object(m.jsx)("div",{className:d()("icon",{"icon--cross":j,"icon--menu":!j})})})]})]}),b&&Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("nav",{className:"header__menu",ref:v,children:[Object(m.jsx)(h,{handleClick:N}),Object(m.jsxs)("div",{className:"header__menu-actions",children:[Object(m.jsx)(C,{action:f,handleClick:N,amount:t.length}),Object(m.jsx)(C,{action:g,handleClick:N,amount:c.length})]})]})})]})})},M=(c(42),function(){return Object(m.jsx)("footer",{className:"footer",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"footer__content",children:[Object(m.jsx)("div",{className:"footer__item",children:Object(m.jsx)(a.b,{to:"/home",className:"footer__logo",children:Object(m.jsx)("img",{src:"./img/icons/logo.svg",alt:"LOGO",className:"footer__logo-image"})})}),Object(m.jsx)("div",{className:"footer__item",children:Object(m.jsxs)("ul",{className:"footer__list",children:[Object(m.jsx)("li",{className:"footer__list-item",children:Object(m.jsx)("a",{href:"https://github.com/AllaSerhiienko",className:"footer__link",children:"GitHub"})}),Object(m.jsx)("li",{className:"footer__list-item",children:Object(m.jsx)("a",{href:"mailto:allasergienko706@gmail.com",className:"footer__link",children:"Contacts"})}),Object(m.jsx)("li",{className:"footer__list-item",children:Object(m.jsx)(a.b,{to:"/home",className:"footer__link",children:"Rights"})})]})}),Object(m.jsx)("div",{className:"footer__item",children:Object(m.jsx)("button",{type:"button",className:"footer__top-button",onClick:function(){window.scrollTo({top:0})},children:"Back to top"})})]})})})}),R=function(){return Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)(q,{}),Object(m.jsx)("main",{className:"main",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)(n.b,{})})}),Object(m.jsx)(M,{})]})},F=(c(43),function(){var e=Object(r.useState)(0),t=Object(i.a)(e,2),c=t[0],s=t[1],n=Object(r.useRef)(null),o=Object(r.useRef)(null),l=Object(r.useRef)(null),j=Object(r.useCallback)((function(){var e=c===x.length-1;s(e?0:c+1)}),[c]),u=function(){var e=0===c?x.length-1:c-1;s(e)};return Object(r.useEffect)((function(){return n.current&&clearTimeout(n.current),n.current=setTimeout((function(){j()}),5e3),function(){null!==n.current&&clearTimeout(n.current)}}),[j]),Object(m.jsx)("div",{className:"pictures-slider",children:Object(m.jsxs)("div",{className:"pictures-slider__content",children:[Object(m.jsxs)("div",{className:"grid grid--tablet",children:[Object(m.jsx)("div",{className:" pictures-slider__arrow-container grid__item grid__item--tablet-1-1",children:Object(m.jsx)("button",{type:"button",className:"pictures-slider__arrow",onClick:u,children:Object(m.jsx)("div",{className:"icon icon--arrow-left"})})}),Object(m.jsx)("div",{className:" grid__item grid__item--tablet-2-11 grid__item--desktop-2-23",children:Object(m.jsx)("div",{className:"pictures-slider__slides-container",ref:l,onTouchStart:function(e){o.current=e.touches[0].clientX},onTouchMove:function(e){if(null!==o.current){var t=e.touches[0].clientX,c=o.current-t;c>0?j():c<0&&u(),o.current=null}},children:Object(m.jsx)("div",{className:"pictures-slider__slides",children:Object(m.jsx)("ul",{className:"pictures-slider__list",style:{transform:"translateX(-".concat(c*(100/3),"%)")},children:x.map((function(e){return Object(m.jsx)("li",{className:"pictures-slider__item",children:Object(m.jsx)(a.b,{to:"./".concat(e),className:"pictures-slider__link",style:{backgroundImage:"url(".concat(p,"/img/banner-").concat(e,".jpeg)")}})},e)}))})})})}),Object(m.jsx)("div",{className:" pictures-slider__arrow-container grid__item grid__item--tablet-12-12 grid__item--desktop-24-24",children:Object(m.jsx)("button",{type:"button",className:"pictures-slider__arrow",onClick:j,children:Object(m.jsx)("div",{className:"icon icon--arrow-right"})})})]}),Object(m.jsx)("div",{className:"pictures-slider__dots",children:x.map((function(e,t){return Object(m.jsx)("button",{type:"button",className:"pictures-slider__dot-container",onClick:function(){s(t)},children:Object(m.jsx)("div",{className:d()("pictures-slider__dot",{"pictures-slider__dot--active":c===t})})},e)}))})]})})});c(44);function I(e){return new Promise((function(t){setTimeout(t,e)}))}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s={method:t};return c&&(s.body=JSON.stringify(c),s.headers={"Content-Type":"application/json; charset=UTF-8"}),I(100).then((function(){return fetch(p+e,s)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))}var V=function(e){return Q(e)},U=function(){return V("api/products.json")},B=(c(45),c(46),function(e){var t=e.product,c=t.image,s=t.name,n=t.price,i=t.fullPrice,o=t.screen,l=t.capacity,j=t.ram,u=Object(r.useContext)(P),b=u.favorites,h=u.addToFavorites,O=Object(r.useContext)(A),_=O.cart,x=O.addToCart,g=b.some((function(e){return e.id===t.id})),f=_.some((function(e){return e.id===t.id}));return Object(m.jsx)(a.b,{to:"/home",className:"product-card","data-cy":"cardsContainer",children:Object(m.jsxs)("div",{className:"product-card__content",children:[Object(m.jsx)("div",{className:"product-card__image-container",children:Object(m.jsx)("img",{src:"".concat(p).concat(c),alt:s,className:"product-card__image"})}),Object(m.jsx)("p",{className:"product-card__title",children:s}),Object(m.jsxs)("div",{className:"product-card__price-container",children:[Object(m.jsx)("h3",{className:"product-card__price",children:"$".concat(n)}),n!==i&&Object(m.jsx)("p",{className:"product-card__full-price",children:"$".concat(i)})]}),Object(m.jsxs)("ul",{className:"product-card__specs",children:[Object(m.jsxs)("li",{className:"product-card__spec",children:[Object(m.jsx)("p",{className:"product-card__spec-title",children:"Screen"}),Object(m.jsx)("p",{className:"product-card__spec-value",children:o.replace("'",'"')})]}),Object(m.jsxs)("li",{className:"product-card__spec",children:[Object(m.jsx)("p",{className:"product-card__spec-title",children:"Capacity"}),Object(m.jsx)("p",{className:"product-card__spec-value",children:l})]}),Object(m.jsxs)("li",{className:"product-card__spec",children:[Object(m.jsx)("p",{className:"product-card__spec-title",children:"RAM"}),Object(m.jsx)("p",{className:"product-card__spec-value",children:j})]})]}),Object(m.jsxs)("div",{className:"product-card__buttons",children:[Object(m.jsx)("button",{type:"button",className:d()("product-card__primary-button button",{"button--selected":f}),onClick:function(e){e.preventDefault(),f||x(t)},children:f?"Added to cart":"Add to cart"}),Object(m.jsx)("button",{type:"button",className:d()("product-card__fav-button",{"product-card__fav-button--selected":g}),onClick:function(e){e.preventDefault(),h(t)},children:Object(m.jsx)("div",{className:d()("icon icon--favorites",{"icon--selected-favorites":g})})})]})]})})}),G=function(e){var t=e.products,c=e.title,s=Object(r.useState)(0),a=Object(i.a)(s,2),n=a[0],o=a[1],l=Object(r.useState)(!0),j=Object(i.a)(l,2),u=j[0],b=j[1],h=Object(r.useRef)(null),O=Object(r.useState)(null),_=Object(i.a)(O,2),p=_[0],x=_[1],g=Object(r.useRef)(null),f=Object(r.useState)(null),v=Object(i.a)(f,2),N=v[0],y=v[1],C=n===t.length-1,w=0===n;Object(r.useEffect)((function(){var e=h.current,t=g.current,c=function(){e&&x(e.offsetWidth)};return c(),!u&&t?y(t.offsetWidth):b(!1),window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}),[n]);var k={"--width":"".concat(p,"px")};return Object(m.jsx)("div",{className:"product-slider",style:k,children:Object(m.jsxs)("div",{className:"product-slider__content",children:[Object(m.jsxs)("div",{className:"product-slider__top",children:[Object(m.jsx)("h2",{className:"product-slider__title",children:c}),Object(m.jsxs)("div",{className:"product-slider__buttons",children:[Object(m.jsx)("button",{type:"button",className:d()("product-slider__arrow",{"product-slider__arrow--disabled":w}),onClick:function(){o((function(e){return e-1}))},disabled:w,children:Object(m.jsx)("div",{className:d()("icon icon--arrow-left",{"icon--arrow-left-disabled":w})})}),Object(m.jsx)("button",{type:"button",className:d()("product-slider__arrow",{"product-slider__arrow--disabled":C}),onClick:function(){o((function(e){return e+1}))},disabled:C,children:Object(m.jsx)("div",{className:d()("icon icon--arrow-right",{"icon--arrow-right-disabled":C})})})]})]}),Object(m.jsx)("div",{className:"product-slider__slides-container",ref:h,children:Object(m.jsx)("ul",{className:"product-slider__slides",style:{transform:"translateX(-".concat(n*((N||0)+16),"px)")},children:t.map((function(e,t){return Object(m.jsx)("li",{className:"product-slider__slide",ref:0===t?g:void 0,children:Object(m.jsx)(B,{product:e})},e.id)}))})})]})})},J=(c(47),function(e){var t=e.amount;return Object(m.jsxs)("div",{className:"categories","data-cy":"categoryLinksContainer",children:[Object(m.jsx)("h2",{className:"categories__title",children:"Shop by category"}),Object(m.jsxs)("ul",{className:"categories__list",children:[Object(m.jsx)("li",{className:"categories__item",children:Object(m.jsxs)(a.b,{to:"/phones",className:"categories__link",children:[Object(m.jsx)("div",{className:"categories__image-container categories__image-container--phones",children:Object(m.jsx)("img",{src:"".concat(p,"/img/category-phones.png"),alt:"phones",className:"categories__image categories__image--phones"})}),Object(m.jsx)("h4",{className:"categories__category-title",children:"Mobile phones"}),Object(m.jsx)("p",{className:"categories__number",children:1===t.phones?"1 model":"".concat(t.phones," models")})]})}),Object(m.jsx)("li",{className:"categories__item",children:Object(m.jsxs)(a.b,{to:"/tablets",className:"categories__link",children:[Object(m.jsx)("div",{className:"categories__image-container categories__image-container--tablets",children:Object(m.jsx)("img",{src:"".concat(p,"/img/category-tablets.png"),alt:"tablets",className:"categories__image categories__image--tablets"})}),Object(m.jsx)("h4",{className:"categories__category-title",children:"Tablets"}),Object(m.jsx)("p",{className:"categories__number",children:1===t.tablets?"1 model":"".concat(t.tablets," models")})]})}),Object(m.jsx)("li",{className:"categories__item",children:Object(m.jsxs)(a.b,{to:"/accessories",className:"categories__link",children:[Object(m.jsx)("div",{className:"categories__image-container categories__image-container--accessories",children:Object(m.jsx)("img",{src:"".concat(p,"/img/category-accessories.png"),alt:"phones",className:"categories__image"})}),Object(m.jsx)("h4",{className:"categories__category-title",children:"Accessories"}),Object(m.jsx)("p",{className:"categories__number",children:1===t.accessories?"1 model":"".concat(t.accessories," models")})]})})]})]})}),W=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1],a=Object(r.useState)(!1),n=Object(i.a)(a,2),o=n[0],l=n[1],j=Object(r.useState)(!1),d=Object(i.a)(j,2),u=d[0],b=d[1];Object(r.useEffect)((function(){l(!0),U().then(s).catch((function(){return b(!0)})).finally((function(){return l(!1)}))}),[]);var h,O=Object(r.useMemo)((function(){var e=0,t=0,s=0;return c.forEach((function(c){switch(c.category){case"phones":e+=1;break;case"tablets":t+=1;break;case"accessories":s+=1}})),{phones:e,tablets:t,accessories:s}}),[c]),_=(h=c,Object(w.a)(h).sort((function(e,t){return t.fullPrice-t.price-(e.fullPrice-e.price)}))),p=function(e){return Object(w.a)(e).filter((function(e){return e.name.includes("14")})).sort((function(e,t){return t.price-e.price}))}(c);return Object(m.jsxs)("div",{className:"home-page",children:[Object(m.jsx)("h1",{hidden:!0,children:"Product Catalog"}),Object(m.jsxs)("section",{className:"home-page__section",children:[Object(m.jsx)("h1",{className:"home-page__title",children:"Welcome to Nice Gadgets store!"}),Object(m.jsx)(F,{})]}),!u&&!o&&Object(m.jsx)("section",{className:"home-page__section",children:Object(m.jsx)(G,{products:p.slice(0,20),title:"Brand new models"})}),Object(m.jsx)("section",{className:"home-page__section",children:Object(m.jsx)(J,{amount:O})}),Object(m.jsx)("section",{className:"home-page__section",children:Object(m.jsx)(G,{products:_.slice(0,20),title:"Hot prices"})})]})},X=(c(48),function(){var e=Object(n.o)().pathname.split("/").filter((function(e){return""!==e}));return Object(m.jsxs)("div",{className:"path",children:[Object(m.jsx)(a.b,{to:"/",children:Object(m.jsx)("div",{className:"icon icon--home"})}),e.map((function(e,t,c){return Object(m.jsxs)("div",{className:"path__part",children:[Object(m.jsx)("div",{className:"icon icon--arrow-right-disabled"}),c.length-1===t?Object(m.jsx)("p",{className:"path__text",children:e[0].toUpperCase()+e.slice(1)}):Object(m.jsx)(a.b,{to:"/".concat(e),className:"path__link",children:e[0].toUpperCase()+e.slice(1)})]},e)}))]})}),$=(c(49),function(e){var t=e.products;return Object(m.jsx)("div",{className:"products-list",children:Object(m.jsx)("ul",{className:"products-list__list grid",children:t.map((function(e){return Object(m.jsx)("li",{className:"products-list__card grid__item",children:Object(m.jsx)(B,{product:e})},e.id)}))})})}),D=(c(50),function(e){var t=e.title,c=e.options,s=e.searchParam,n=e.defaultValue,o=Object(r.useState)(!1),l=Object(i.a)(o,2),j=l[0],u=l[1],b=Object(a.d)(),h=Object(i.a)(b,2),O=h[0],_=h[1],p=O.get(s)||n,x=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=x.current;e&&(j?e.classList.add("dropdown__list--visible"):e.classList.remove("dropdown__list--visible"))}),[j]);return Object(m.jsxs)("div",{className:d()("dropdown",{"dropdown--sort-by":"sort"===s,"dropdown--per-page":"perPage"===s}),children:[Object(m.jsx)("p",{className:"dropdown__title",children:t}),Object(m.jsxs)("button",{className:"dropdown__trigger",type:"button",onClick:function(){u((function(e){return!e}))},onBlur:function(e){var t;e.relatedTarget&&null!==(t=e.relatedTarget)&&void 0!==t&&t.className.includes("dropdown__value")||u(!1)},children:[Object(m.jsx)("p",{className:"dropdown__selected",children:Object.keys(c).find((function(e){return c[e]===p}))||"Choose option"}),j?Object(m.jsx)("i",{className:"icon icon--arrow-disabled-up"}):Object(m.jsx)("i",{className:"icon icon--arrow-disabled-down"})]}),Object(m.jsx)("ul",{className:"dropdown__list",ref:x,children:Object.entries(c).map((function(e){var t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(m.jsx)("li",{children:Object(m.jsx)("button",{type:"button",className:"dropdown__value",onClick:function(){!function(e){var t=new URLSearchParams(O);e===N.All?(t.delete(s),t.delete("page")):(t.set(s,e),t.get("perPage")&&t.set("page","1")),_(t),u(!1)}(a)},children:c})},c)}))})]})}),H=(c(51),function(e,t){var c=t.sort,s=t.query,a=Object(w.a)(e);return s&&(a=a.filter((function(e){return e.name.toLowerCase().includes(s)}))),a=a.sort((function(e,t){switch(c){case v.Alphabetically:return e.name.localeCompare(t.name);case v.Cheapest:return e.price-t.price;case v.Newest:return-1*(e.year-t.year);default:return 0}}))});c(52);var z=function(e){var t=e.total,c=Object(a.d)(),s=Object(i.a)(c,2),n=s[0],o=s[1],l=n.get("perPage")||t,j=n.get("sort"),u=n.get("query"),b=+(n.get("page")||"1"),h=Math.ceil(t/+l),O=Math.ceil(t/+l),_=1===b,p=b===h,x=Object(r.useState)(b-2),g=Object(i.a)(x,2),f=g[0],v=g[1],N=Object(r.useState)(b+2),y=Object(i.a)(N,2),C=y[0],w=y[1],k=function(){var e=function(e){var t=e.pagesCount,c=e.pagesCutCount,s=e.currentPage,a=Math.ceil(c/2),n=Math.floor(c/2);return t<c?{start:1,end:t}:s>=1&&s<=a?{start:1,end:c}:s+n>=t?{start:t-c+1,end:t}:{start:s-a+1,end:s+n}}({pagesCount:O,pagesCutCount:5,currentPage:b});v(e.start),w(e.end)};Object(r.useEffect)((function(){k()}),[l,h,j,u]),Object(r.useEffect)((function(){b!==f&&b!==C||k()}),[b]);var S=function(e,t){for(var c=[],s=e;s<=t;s+=1)c.push(s);return c}(f,C),P=function(e){var t=new URLSearchParams(n);t.set("page",String(e)),o(t)};return Object(m.jsx)("div",{className:"pagination",children:Object(m.jsx)("div",{className:"pagination__container",children:Object(m.jsxs)("ul",{className:"pagination__list",children:[Object(m.jsx)("li",{className:d()("pagination__item",{"pagination__item--disabled":_}),children:Object(m.jsx)("button",{type:"button",className:"pagination__button",onClick:function(){_||P(b-1)},children:Object(m.jsx)("div",{className:d()("icon","icon--arrow-left",{"icon--arrow-left-disabled":_})})})}),S.map((function(e){return Object(m.jsx)("li",{className:d()("pagination__item",{"pagination__item--active":e===b}),children:Object(m.jsx)("button",{type:"button",className:d()("pagination__button",{"pagination__button--active":e===b}),onClick:function(){e!==b&&P(e)},children:e})},e)})),Object(m.jsx)("li",{className:d()("pagination__item",{"pagination__item--disabled":p}),children:Object(m.jsx)("button",{type:"button",className:"pagination__button",onClick:function(){p||P(b+1)},children:Object(m.jsx)("div",{className:d()("icon","icon--arrow-right",{"icon--arrow-right-disabled":p})})})})]})})})},Y=(c(53),function(){return Object(m.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(m.jsx)("div",{className:"Loader__content"})})}),K=(c(54),function(e){var t=e.products,c=e.isQuery,s=void 0!==c&&c;return Object(m.jsxs)("div",{className:"no-products",children:[Object(m.jsx)("img",{src:"".concat(p,"/img/product-not-found.png"),alt:"products were not found",className:"no-products__image"}),Object(m.jsx)("h2",{className:"no-products__title",children:"There are no ".concat(t,s?" matching the query":" matching yet")})]})});K.defaultProps={isQuery:!1};c(55);var Z=function(){return Object(m.jsxs)("div",{className:"something-went-wrong",children:[Object(m.jsx)("img",{src:"".concat(p,"/img/page-not-found.png"),alt:"something went wrong",className:"something-went-wrong__image"}),Object(m.jsx)("h2",{className:"something-went-wrong__title",children:"Something went wrong"}),Object(m.jsx)("button",{className:"button something-went-wrong__button",type:"button","aria-label":"reload",onClick:function(){return window.location.reload()},children:"Reload"})]})},ee=function(){var e,t=Object(r.useState)([]),c=Object(i.a)(t,2),s=c[0],n=c[1],o=Object(r.useState)(!1),l=Object(i.a)(o,2),j=l[0],d=l[1],u=Object(r.useState)(!1),b=Object(i.a)(u,2),h=b[0],O=b[1],_=Object(a.d)(),p=Object(i.a)(_,1)[0],x=p.get("sort")||"",g=(null===(e=p.get("query"))||void 0===e?void 0:e.trim().toLowerCase())||"";Object(r.useEffect)((function(){d(!0),U().then((function(e){n(e.filter((function(e){return"phones"===e.category})))})).catch((function(){O(!0)})).finally((function(){d(!1)}))}),[]);var f=H(s,{sort:x,query:g}),y=+(p.get("perPage")||f.length),C=+(p.get("page")||"1"),w=Math.ceil(f.length/y),k=y*C-(y-1),S=C===w?f.length:y*C,P=f.slice(k-1,S);return Object(m.jsx)("div",{className:"phones-page",children:Object(m.jsxs)("div",{className:"phones-page__content",children:[Object(m.jsx)(X,{}),Object(m.jsx)("h1",{className:"phones-page__title",children:"Mobile phones"}),Object(m.jsx)("p",{className:"phones-page__amount",children:1===f.length?"1 model":"".concat(f.length," models")}),j&&!h&&Object(m.jsx)(Y,{}),!!f.length&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"phones-page__dropdowns",children:[Object(m.jsx)(D,{title:"Sort by",options:v,defaultValue:null,searchParam:"sort"}),Object(m.jsx)(D,{title:"Items per page",options:N,searchParam:"perPage",defaultValue:N.All})]}),Object(m.jsx)($,{products:P})]}),w>1&&Object(m.jsx)("div",{className:"phones-page__pages",children:Object(m.jsx)(z,{total:f.length})}),0===f.length&&!j&&(g?Object(m.jsx)(K,{products:"phones",isQuery:!!g}):Object(m.jsx)(K,{products:"phones"})),h&&Object(m.jsx)(Z,{})]})})},te=(c(56),function(){return Object(m.jsxs)("section",{className:"not-found-page",children:[Object(m.jsx)("h1",{className:"not-found-page__title",children:"Page not found"}),Object(m.jsx)("img",{src:"".concat(p,"/img/page-not-found.png"),alt:"products were not found",className:"not-found-page__image"})]})}),ce=(c(57),function(){var e,t=Object(r.useState)([]),c=Object(i.a)(t,2),s=c[0],n=c[1],o=Object(r.useState)(!1),l=Object(i.a)(o,2),j=l[0],d=l[1],u=Object(r.useState)(!1),b=Object(i.a)(u,2),h=b[0],O=b[1],_=Object(a.d)(),p=Object(i.a)(_,1)[0],x=p.get("sort")||"",g=(null===(e=p.get("query"))||void 0===e?void 0:e.trim().toLowerCase())||"";Object(r.useEffect)((function(){d(!0),U().then((function(e){n(e.filter((function(e){return"tablets"===e.category})))})).catch((function(){O(!0)})).finally((function(){d(!1)}))}),[]);var f=H(s,{sort:x,query:g}),y=+(p.get("perPage")||f.length),C=+(p.get("page")||"1"),w=Math.ceil(f.length/y),k=y*C-(y-1),S=C===w?f.length:y*C,P=f.slice(k-1,S);return Object(m.jsx)("div",{className:"tablets-page",children:Object(m.jsxs)("div",{className:"tablets-page__content",children:[Object(m.jsx)(X,{}),Object(m.jsx)("h1",{className:"tablets-page__title",children:"Tablets"}),Object(m.jsx)("p",{className:"tablets-page__amount",children:1===f.length?"1 model":"".concat(f.length," models")}),j&&!h&&Object(m.jsx)(Y,{}),!!f.length&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"tablets-page__dropdowns",children:[Object(m.jsx)(D,{title:"Sort by",options:v,defaultValue:null,searchParam:"sort"}),Object(m.jsx)(D,{title:"Items per page",options:N,searchParam:"perPage",defaultValue:N.All})]}),Object(m.jsx)($,{products:P})]}),w>1&&Object(m.jsx)("div",{className:"tablets-page__pages",children:Object(m.jsx)(z,{total:f.length})}),0===f.length&&!j&&(g?Object(m.jsx)(K,{products:"tablets",isQuery:!!g}):Object(m.jsx)(K,{products:"tablets"})),h&&Object(m.jsx)(Z,{})]})})}),se=(c(58),function(){var e,t=Object(r.useState)([]),c=Object(i.a)(t,2),s=c[0],n=c[1],o=Object(r.useState)(!1),l=Object(i.a)(o,2),j=l[0],d=l[1],u=Object(r.useState)(!1),b=Object(i.a)(u,2),h=b[0],O=b[1],_=Object(a.d)(),p=Object(i.a)(_,1)[0],x=p.get("sort")||"",g=(null===(e=p.get("query"))||void 0===e?void 0:e.trim().toLowerCase())||"";Object(r.useEffect)((function(){d(!0),U().then((function(e){n(e.filter((function(e){return"accessories"===e.category})))})).catch((function(){O(!0)})).finally((function(){d(!1)}))}),[]);var f=H(s,{sort:x,query:g}),y=+(p.get("perPage")||f.length),C=+(p.get("page")||"1"),w=Math.ceil(f.length/y),k=y*C-(y-1),S=C===w?f.length:y*C,P=f.slice(k-1,S);return Object(m.jsx)("div",{className:"accessories-page",children:Object(m.jsxs)("div",{className:"accessories-page__content",children:[Object(m.jsx)(X,{}),Object(m.jsx)("h1",{className:"accessories-page__title",children:"Accessories"}),Object(m.jsx)("p",{className:"accessories-page__amount",children:1===f.length?"1 model":"".concat(f.length," models")}),j&&!h&&Object(m.jsx)(Y,{}),!!f.length&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"accessories-page__dropdowns",children:[Object(m.jsx)(D,{title:"Sort by",options:v,defaultValue:null,searchParam:"sort"}),Object(m.jsx)(D,{title:"Items per page",options:N,searchParam:"perPage",defaultValue:N.All})]}),Object(m.jsx)($,{products:P})]}),w>1&&Object(m.jsx)("div",{className:"accessories-page__pages",children:Object(m.jsx)(z,{total:f.length})}),0===f.length&&!j&&(g?Object(m.jsx)(K,{products:"accessories",isQuery:!!g}):Object(m.jsx)(K,{products:"accessories"})),h&&Object(m.jsx)(Z,{})]})})}),ae=(c(59),function(){var e,t=Object(r.useContext)(P).favorites,c=Object(a.d)(),s=(null===(e=Object(i.a)(c,1)[0].get("query"))||void 0===e?void 0:e.trim().toLowerCase())||"",n=H(t,{sort:"",query:s});return Object(m.jsx)("div",{className:"favorites-page",children:Object(m.jsxs)("div",{className:"favorites-page__content",children:[Object(m.jsx)(X,{}),Object(m.jsx)("h1",{className:"favorites-page__title",children:"Favorites"}),Object(m.jsx)("p",{className:"favorites-page__amount",children:1===n.length?"1 item":"".concat(n.length," items")}),!!n.length&&Object(m.jsx)($,{products:n}),0===n.length&&(s?Object(m.jsx)(K,{products:"favorites",isQuery:!!s}):Object(m.jsx)(K,{products:"favorites"}))]})})}),ne=(c(60),c(61),function(){var e=Object(n.q)();return Object(m.jsxs)("button",{type:"button",className:"back-button",onClick:function(){e(-1)},children:[Object(m.jsx)("div",{className:"icon icon--arrow-left"}),Object(m.jsx)("p",{className:"back-button__text",children:"Back"})]})}),ie=(c(62),function(e){var t=e.product,c=t.image,s=t.name,n=t.price,i=t.id,o=Object(r.useContext)(A),l=o.cart,j=o.addToCart,u=o.deleteProduct,b=o.deleteProductCopy,h=l.filter((function(e){return e.id===i})).length;return Object(m.jsx)("div",{className:"cart-item",children:Object(m.jsxs)("div",{className:"cart-item__content",children:[Object(m.jsxs)("div",{className:"cart-item__top",children:[Object(m.jsx)("button",{type:"button",className:"cart-item__delete-button",onClick:function(){u(i)},children:Object(m.jsx)("div",{className:"cart-item__delete-icon"})}),Object(m.jsxs)(a.b,{to:"/",className:"cart-item__link",children:[Object(m.jsx)("div",{className:"cart-item__image-container",children:Object(m.jsx)("img",{src:"".concat(p).concat(c),alt:s,className:"cart-item__image"})}),Object(m.jsx)("p",{className:"cart-item__title",children:s})]})]}),Object(m.jsxs)("div",{className:"cart-item__bottom",children:[Object(m.jsxs)("div",{className:"cart-item__count",children:[Object(m.jsx)("button",{type:"button",className:d()("cart-item__count-button",{"cart-item__count-button--disabled":h<=1}),onClick:function(){b(i)},disabled:h<=1,children:Object(m.jsx)("div",{className:d()("icon",{"icon--minus":h>1,"icon--minus-disabled":h<=1})})}),Object(m.jsx)("p",{className:"cart-item__count-text",children:h}),Object(m.jsx)("button",{type:"button",className:"cart-item__count-button",onClick:function(){j(t)},children:Object(m.jsx)("div",{className:"icon icon--plus"})})]}),Object(m.jsx)("h3",{className:"cart-item__price",children:"$".concat(n)})]})]})})}),re=function(){var e=Object(r.useContext)(A),t=e.cart,c=e.setCart,s=Object(r.useState)(!1),a=Object(i.a)(s,2),n=a[0],o=a[1],l=t.sort((function(e,t){return e.name.localeCompare(t.name)})).reduce((function(e,t){return e.find((function(e){return e.id===t.id}))||e.push(t),e}),[]),j=t.reduce((function(e,t){return e+t.price}),0);return Object(m.jsx)("div",{className:"cart-page",children:Object(m.jsxs)("div",{className:"cart-page__content",children:[Object(m.jsx)(ne,{}),Object(m.jsx)("h1",{className:"cart-page__title",children:"Cart"}),!n&&(t.length>0?Object(m.jsxs)("div",{className:"cart-page__products",children:[Object(m.jsx)("ul",{className:"cart-page__list",children:l.map((function(e){return Object(m.jsx)(ie,{product:e},e.id)}))}),Object(m.jsxs)("div",{className:"cart-page__checkout-block",children:[Object(m.jsx)("h2",{className:"cart-page__price",children:"$".concat(j)}),Object(m.jsx)("p",{className:"cart-page__total-amount",children:1===t.length?"Total for 1 item":"Total for ".concat(t.length," items")}),Object(m.jsx)("button",{type:"button",className:"cart-page__button button button--checkout",onClick:function(){return o(!0)},children:"Checkout"})]})]}):Object(m.jsxs)("div",{className:"cart-page__empty-cart",children:[Object(m.jsx)("img",{src:"".concat(p,"/img/cart-is-empty.png"),alt:"cart is empty",className:"cart-page__empty-cart-image"}),Object(m.jsx)("h2",{className:"cart-page__empty-cart-title",children:"Your cart is empty"})]})),n&&Object(m.jsxs)("div",{className:"cart-page__confirmation",children:[Object(m.jsxs)("p",{className:"cart-page__confirmation-text",children:["Checkout is not implemented yet.",Object(m.jsx)("br",{}),"Do you want to clear the Cart?"]}),Object(m.jsxs)("div",{className:"cart-page__confirmation-buttons",children:[Object(m.jsx)("button",{type:"button",className:"button cart-page__confirmation-button",onClick:function(){return o(!1)},children:"Cancel"}),Object(m.jsx)("button",{type:"button",className:"button cart-page__confirmation-button",onClick:function(){c([]),o(!1)},children:"Clear Cart"})]})]})]})})},oe=function(){return Object(m.jsx)(a.a,{children:Object(m.jsx)(n.e,{children:Object(m.jsxs)(n.c,{path:"/",element:Object(m.jsx)(T,{children:Object(m.jsx)(E,{children:Object(m.jsx)(R,{})})}),children:[Object(m.jsx)(n.c,{index:!0,element:Object(m.jsx)(W,{})}),Object(m.jsx)(n.c,{path:"/home",element:Object(m.jsx)(n.a,{to:"/"})}),Object(m.jsx)(n.c,{path:"/phones",children:Object(m.jsx)(n.c,{index:!0,element:Object(m.jsx)(ee,{})})}),Object(m.jsx)(n.c,{path:"/tablets",element:Object(m.jsx)(ce,{})}),Object(m.jsx)(n.c,{path:"/accessories",element:Object(m.jsx)(se,{})}),Object(m.jsx)(n.c,{path:"/favorites",element:Object(m.jsx)(ae,{})}),Object(m.jsx)(n.c,{path:"/cart",element:Object(m.jsx)(re,{})}),Object(m.jsx)(n.c,{path:"*",element:Object(m.jsx)(te,{})})]})})})};Object(s.createRoot)(document.getElementById("root")).render(Object(m.jsx)(oe,{}))}]),[[63,1,2]]]);
//# sourceMappingURL=main.b175b14c.chunk.js.map